{set;state;{if;!=;`User not found`;{userid;{args;0}};{if;==;{userid};{userid;{args;0}};0;1};0}}{set;usrst;{if;==;0;{get;state};0;{if;!=;;{aget;{userid;{args;0}}home};1;{if;!=;;{aget;{userid;{args;0}}lst};2;-1}}}}{set;tz;{if;!=;;{args};{if;!=;;{aget;{userid;{args;0}}home};{aget;{userid;{args;0}}home};{aget;{userid;{args;0}}lst}};{regexreplace;{args;0};/\s/g;_};Asia/Singapore}}{set;cont;{if;!=;;{get;tz};{if;==;;{time;zz;now;{get;tz}};0}}}{if;==;0;{get;cont};‚ùå | **Format is incorrect! <https://en.wikipedia.org/wiki/List_of_tz_database_time_zones>**;:clock{time;h;now;{get;tz}}{if;>;{time;mm;now;{get;tz}};15;{if;<;{time;mm;now;{get;tz}};45;30}}: | {if;!=;{userid};{userid;{args;0}};{if;==;;{aget;{userid;{args;0}}home};{if;==;;{aget;{userid;{args;0}}lst};:x: User does not have a time set!;**{username}**, the current time of {username;{args;0}} is};**{username}**, the current time of {username;{args;0}} is}} **{time;dddd, MM/DD/YYYY, h:mm A zz;now;{get;tz}}** {if;==;SGT;{time;zz;now;{get;tz}};in **Singapore**, **Asia**;{if;==;/;{regexreplace;{get;tz};/\w+(/)\w+/igm;$1};in {regexreplace;**{set;t;{substr;{regexreplace;{get;tz};/\w+\/(\w+)/g;$1};0;1}}{upper;{get;t}}{lower;{substr;{regexreplace;{get;tz};/\w+\/(\w+)/g;$1};1;{math;-;{length;{regexreplace;{get;tz};/\w+\/(\w+)/g;$1}};1}}}**, **{set;z;{substr;{regexreplace;{get;tz};/(\w+)\/\w+/g;$1};0;1}}{upper;{get;z}}{lower;{substr;{regexreplace;{get;tz};/(\w+)\/\w+/g;$1};1;{math;-;{length;{regexreplace;{get;tz};/(\w+)\/\w+/g;$1}};1}}}**;/_/g; }}}}
{if;!=;0;{get;cont};{if;==;set;{lower;{args;1}};Set your Hometown!;{if;==;;{aget;{userid}home};{if;!=;{aget;{userid}lst};{get;tz};Set your new time!}}}}{aset;{userid}home;{if;==;set;{lower;{args;1}};{if;==;0;{get;cont};{aget;{userid}home};{get;tz}};{aget;{userid}home}}}{aset;{userid}lst;{if;==;0;{get;cont};{aget;{userid}lst};{get;tz}}}{set;cont}